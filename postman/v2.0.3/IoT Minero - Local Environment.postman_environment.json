{
  "info": {
    "_postman_id": "a1234567-89ab-cdef-0123-456789abcdef",
    "name": "IoT Minero - Scaled Full System",
    "description": "Test de endpoints para API REST, Simulador TCP ESP32, Simulador Kafka Zigbee y nuevos endpoints de Companies, Locations, Sensors, Sensor Categories y Sensor Data.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12122436"
  },
  "item": [
    {
      "name": "üì¶ API Principal",
      "item": [
        {
          "name": "üë• Users",
          "item": [
            {
              "name": "üîç Get All Users",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{host}}:{{port_api}}/api/v1/users",
                  "host": ["{{host}}"],
                  "port": "{{port_api}}",
                  "path": ["api", "v1", "users"]
                }
              },
              "response": []
            },
            {
              "name": "üë§ Get User by ID",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{host}}:{{port_api}}/api/v1/users/1",
                  "host": ["{{host}}"],
                  "port": "{{port_api}}",
                  "path": ["api", "v1", "users", "1"]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Create User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"Juan Perez\",\n  \"password\": \"1234\",\n  \"role\": \"ADMIN\"\n}"
                },
                "url": {
                  "raw": "{{host}}:{{port_api}}/api/v1/users",
                  "host": ["{{host}}"],
                  "port": "{{port_api}}",
                  "path": ["api", "v1", "users"]
                }
              },
              "response": []
            },
            {
              "name": "‚úèÔ∏è Update User",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"Juan Actualizado\",\n  \"password\": \"5678\"\n}"
                },
                "url": {
                  "raw": "{{host}}:{{port_api}}/api/v1/users/1",
                  "host": ["{{host}}"],
                  "port": "{{port_api}}",
                  "path": ["api", "v1", "users", "1"]
                }
              },
              "response": []
            },
            {
              "name": "üóëÔ∏è Delete User",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{host}}:{{port_api}}/api/v1/users/1",
                  "host": ["{{host}}"],
                  "port": "{{port_api}}",
                  "path": ["api", "v1", "users", "1"]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "üè¢ Companies",
          "item": [
            {
              "name": "üîç Get all Companies",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/companies",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "companies"]
                }
              },
              "response": []
            },
            {
              "name": "‚úèÔ∏è Update Company",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Empresa Minera XYZ\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/companies/2",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "companies", "2"]
                }
              },
              "response": []
            },
            {
              "name": "üè¢ Get Company",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/companies/1",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "companies", "1"]
                }
              },
              "response": []
            },
            {
              "name": "üóëÔ∏è Delete Company",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/companies/4",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "companies", "4"]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Create Company",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Empresa Minera X\",\n  \"apiKey\": \"12345-ABCDE\",\n  \"isActive\": true,\n  \"locationIds\": [1]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/companies",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "companies"]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "üìç Locations",
          "item": [
            {
              "name": "üîç Get all Locations",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/locations",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "locations"]
                }
              },
              "response": []
            },
            {
              "name": "üìç Get Location",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/locations/1",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "locations", "1"]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Create Location",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/locations/1",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "locations", "1"]
                }
              },
              "response": []
            },
            {
              "name": "‚úèÔ∏è Update Location",
              "request": {
                "method": "PUT",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/locations/1",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "locations", "1"]
                }
              },
              "response": []
            },
            {
              "name": "üóëÔ∏è Delete Location",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/locations/1",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "locations", "1"]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "üîß Sensors",
          "item": [
            {
              "name": "üîç Get All Sensors",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensors",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensors"]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Create Sensor",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"Sensor esp32 tcp test 2\",\n    \"apiKey\": \"sensor-esp32-tcp-key-519494H1494948Z\",\n    \"metadata\": {\n        \"modelo\": \"ESP32\"\n    },\n    \"locationId\": 1,\n    \"categoryId\": 1,\n    \"active\": true\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensors",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensors"]
                }
              },
              "response": []
            },
            {
              "name": "‚úèÔ∏è Update Sensor",
              "request": {
                "method": "PUT",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"apiKey\": \"sensor-esp32-tcp-key-519494H1494948Z\",\n    \"metadata\": {\n        \"modelo\": \"ESP32\"\n    }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensors/4",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensors", "4"]
                }
              },
              "response": []
            },
            {
              "name": "üîß Get Sensor",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensors/65",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensors", "65"]
                }
              },
              "response": []
            },
            {
              "name": "üóëÔ∏è Delete Sensor",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensors/3",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensors", "3"]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "üè∑Ô∏è Sensors Categories",
          "item": [
            {
              "name": "üîç Get all Sensors categories",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor-categories",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor-categories"]
                }
              },
              "response": []
            },
            {
              "name": "üè∑Ô∏è Get Sensor Category",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor-categories/2",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor-categories", "2"]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Create Sensor Category",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"para borrar\",\n  \"description\": \"Borrame\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor-categories",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor-categories"]
                }
              },
              "response": []
            },
            {
              "name": "‚úèÔ∏è Update Sensor Category",
              "request": {
                "method": "PUT",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"para no borrar\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor-categories/7",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor-categories", "7"]
                }
              },
              "response": []
            },
            {
              "name": "üóëÔ∏è Delete Sensor Category",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor-categories/7",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor-categories", "7"]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "üìä Sensors Data",
          "item": [
            {
              "name": "üîç Get Sensor Data",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor_data?company_api_key=comp-12345678&from=1712665800&to=1712665900&sensor_id=2&sensor_id=3&sensor_id=4",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor_data"],
                  "query": [
                    {
                      "key": "company_api_key",
                      "value": "comp-12345678"
                    },
                    {
                      "key": "from",
                      "value": "1712665800"
                    },
                    {
                      "key": "to",
                      "value": "1712665900"
                    },
                    {
                      "key": "sensor_id",
                      "value": "2"
                    },
                    {
                      "key": "sensor_id",
                      "value": "3"
                    },
                    {
                      "key": "sensor_id",
                      "value": "4"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "‚ûï Insert Sensor Data",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"apiKey\": \"sensor-esp32-tcp-key-519494H1494948Z\",\n  \"jsonData\": [\n    {\n      \"timestamp\": 1712665800,\n      \"temperature\": 24.5,\n      \"humidity\": 40.2\n    },\n    {\n      \"timestamp\": 1712665860,\n      \"temperature\": 24.7,\n      \"humidity\": 40.0\n    }\n  ]\n}\n",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:8081/api/v1/sensor_data",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8081",
                  "path": ["api", "v1", "sensor_data"]
                }
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "üì° TCP ESP32 Simulator",
      "item": [
        {
          "name": "‚ñ∂Ô∏è Start TCP Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_tcp_sim}}/api/v1/simulator/tcp/start",
              "host": ["{{host}}"],
              "port": "{{port_tcp_sim}}",
              "path": ["api", "v1", "simulator", "tcp", "start"]
            }
          },
          "response": []
        },
        {
          "name": "‚è∏ Pause TCP Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_tcp_sim}}/api/v1/simulator/tcp/pause",
              "host": ["{{host}}"],
              "port": "{{port_tcp_sim}}",
              "path": ["api", "v1", "simulator", "tcp", "pause"]
            }
          },
          "response": []
        },
        {
          "name": "‚ñ∂ Resume TCP Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_tcp_sim}}/api/v1/simulator/tcp/resume",
              "host": ["{{host}}"],
              "port": "{{port_tcp_sim}}",
              "path": ["api", "v1", "simulator", "tcp", "resume"]
            }
          },
          "response": []
        },
        {
          "name": "‚èπ Stop TCP Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_tcp_sim}}/api/v1/simulator/tcp/stop",
              "host": ["{{host}}"],
              "port": "{{port_tcp_sim}}",
              "path": ["api", "v1", "simulator", "tcp", "stop"]
            }
          },
          "response": []
        },
        {
          "name": "üîç Status TCP Simulator",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_tcp_sim}}/api/v1/simulator/tcp/status",
              "host": ["{{host}}"],
              "port": "{{port_tcp_sim}}",
              "path": ["api", "v1", "simulator", "tcp", "status"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üì° Kafka Zigbee Simulator",
      "item": [
        {
          "name": "‚ñ∂Ô∏è Start Kafka Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_kafka_sim}}/api/v1/simulator/kafka/start",
              "host": ["{{host}}"],
              "port": "{{port_kafka_sim}}",
              "path": ["api", "v1", "simulator", "kafka", "start"]
            }
          },
          "response": []
        },
        {
          "name": "‚èπ Stop Kafka Simulator",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_kafka_sim}}/api/v1/simulator/kafka/stop",
              "host": ["{{host}}"],
              "port": "{{port_kafka_sim}}",
              "path": ["api", "v1", "simulator", "kafka", "stop"]
            }
          },
          "response": []
        },
        {
          "name": "üîç Status Kafka Simulator",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{host}}:{{port_kafka_sim}}/api/v1/simulator/kafka/status",
              "host": ["{{host}}"],
              "port": "{{port_kafka_sim}}",
              "path": ["api", "v1", "simulator", "kafka", "status"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "host",
      "value": "http://localhost"
    },
    {
      "key": "port_api",
      "value": "8080"
    },
    {
      "key": "port_tcp_sim",
      "value": "8082"
    },
    {
      "key": "port_kafka_sim",
      "value": "8081"
    }
  ]
}
